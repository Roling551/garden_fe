<div class="full-size" id="zoom-target">

    @if(backgroundImage) {
        <div
            class="background"
            id="background"
            [style.transform]="backgroundTransform"
            [style.background-image] = "backgroundImage">
        </div>   
    }
    <!--@for (tileData of tilesData(); track tileData;) {
        <div
            class="item"
            [style.left.px]="getTransformX(tileData.key.x, tileData.key.y)"
            [style.top.px]="getTransformY(tileData.key.x, tileData.key.y)"
        >
            <div
                class="diamond"
                [style.width.px]="sizeX"
                [style.height.px]="sizeY"
                (click)="onTileClick(tileData)"
                >
            </div>
            <ng-container *ngTemplateOutlet="tileTemplate; context: tileData"></ng-container>
        </div>
    }-->

    @for(x of getRange(tileOnScreenX+3); track x) {
        @for(y of getRange(tileOnScreenY+3); track y) {
            <div
                class="item"
                [style.left.px]="getTransformX(y+x+positionX-2, y-x+positionY)"
                [style.top.px]="getTransformY(y+x+positionX-2, y-x+positionY)"
            >
                <div
                    class="diamond"
                    [style.width.px]="sizeX"
                    [style.height.px]="sizeY"
                    >
                </div>
                <ng-container *ngTemplateOutlet="tileTemplate"></ng-container>
            </div>
            <div
                class="item"
                [style.left.px]="getTransformX(y+x+positionX-2, y-x+positionY-1)"
                [style.top.px]="getTransformY(y+x+positionX-2, y-x+positionY-1)"
            >
                <div
                    class="diamond"
                    [style.width.px]="sizeX"
                    [style.height.px]="sizeY"
                    >
                </div>
                <ng-container *ngTemplateOutlet="tileTemplate"></ng-container>
            </div>
        }
    }
</div>